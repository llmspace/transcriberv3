<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="820" viewBox="0 0 1000 820" font-family="-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,sans-serif">
<rect width="1000" height="820" fill="#0d1117" rx="14"/>
<text x="500" y="36" text-anchor="middle" fill="#e6edf3" font-size="19" font-weight="600">video-to-text-transcriber — Processing Pipeline</text>
<rect x="28" y="60" width="148" height="50" rx="8" fill="#21262d" stroke="#21262d" stroke-width="1.5"/>
<text x="102" y="80" text-anchor="middle" fill="#79c0ff" font-size="12" font-weight="600">YouTube URL</text>
<text x="102" y="95" text-anchor="middle" fill="#79c0ff" font-size="10" opacity="0.8">Input</text>
<line x1="176" y1="85" x2="192" y2="85" stroke="#58a6ff" stroke-width="2"/><polygon points="192,80 200,85 192,90" fill="#58a6ff"/>
<rect x="198" y="60" width="148" height="50" rx="8" fill="#1f3a6e" stroke="#1f3a6e" stroke-width="1.5"/>
<text x="272" y="80" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Validate URL</text>
<text x="272" y="95" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">extract video_id</text>
<line x1="346" y1="85" x2="362" y2="85" stroke="#58a6ff" stroke-width="2"/><polygon points="362,80 370,85 362,90" fill="#58a6ff"/>
<rect x="368" y="60" width="148" height="50" rx="8" fill="#1f3a6e" stroke="#1f3a6e" stroke-width="1.5"/>
<text x="442" y="80" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Duplicate Check</text>
<text x="442" y="95" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">DB + filesystem</text>
<line x1="516" y1="85" x2="532" y2="85" stroke="#58a6ff" stroke-width="2"/><polygon points="532,80 540,85 532,90" fill="#58a6ff"/>
<rect x="538" y="60" width="148" height="50" rx="8" fill="#1f3a6e" stroke="#1f3a6e" stroke-width="1.5"/>
<text x="612" y="80" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Fetch Metadata</text>
<text x="612" y="95" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">yt-dlp</text>
<line x1="442" y1="110" x2="442" y2="142" stroke="#58a6ff" stroke-width="2"/><polygon points="437,142 442,150 447,142" fill="#58a6ff"/>
<rect x="386" y="150" width="112" height="36" rx="8" fill="#161b22" stroke="#161b22" stroke-width="1.5"/>
<text x="442" y="163" text-anchor="middle" fill="#6e7681" font-size="12" font-weight="600">SKIPPED</text>
<text x="442" y="178" text-anchor="middle" fill="#6e7681" font-size="10" opacity="0.8">already done</text>
<text x="446" y="126" text-anchor="start" fill="#8b949e" font-size="9">duplicate?</text>
<line x1="612" y1="110" x2="612" y2="182" stroke="#58a6ff" stroke-width="2"/><polygon points="607,182 612,190 617,182" fill="#58a6ff"/>
<rect x="538" y="182" width="148" height="50" rx="8" fill="#1a3a2a" stroke="#1a3a2a" stroke-width="1.5"/>
<text x="612" y="202" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Try Creator</text>
<text x="612" y="217" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">Captions (VTT)</text>
<line x1="538" y1="207" x2="368" y2="207" stroke="#58a6ff" stroke-width="2"/><polygon points="368,202 360,207 368,212" fill="#58a6ff"/>
<rect x="368" y="182" width="148" height="50" rx="8" fill="#1a3a2a" stroke="#1a3a2a" stroke-width="1.5"/>
<text x="442" y="202" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Parse VTT</text>
<text x="442" y="217" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">→ plain text</text>
<line x1="368" y1="207" x2="198" y2="207" stroke="#58a6ff" stroke-width="2"/><polygon points="198,202 190,207 198,212" fill="#58a6ff"/>
<rect x="198" y="182" width="148" height="50" rx="8" fill="#1a3a2a" stroke="#1a3a2a" stroke-width="1.5"/>
<text x="272" y="202" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Write TXT</text>
<text x="272" y="217" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">captions path</text>
<text x="534" y="172" text-anchor="end" fill="#3fb950" font-size="9">captions found →</text>
<text x="612" y="246" text-anchor="middle" fill="#f85149" font-size="9">no captions ↓</text>
<text x="612" y="257" text-anchor="middle" fill="#f85149" font-size="9">or empty VTT ↓</text>
<line x1="612" y1="232" x2="612" y2="284" stroke="#58a6ff" stroke-width="2"/><polygon points="607,284 612,292 617,284" fill="#58a6ff"/>
<rect x="18" y="274" width="964" height="220" rx="10" fill="#161b22" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,3"/>
<text x="34" y="292" text-anchor="start" fill="#58a6ff" font-size="10" font-weight="600">Deepgram Audio Path</text>
<rect x="28" y="306" width="148" height="50" rx="8" fill="#2d1f6e" stroke="#2d1f6e" stroke-width="1.5"/>
<text x="102" y="326" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Select Audio</text>
<text x="102" y="341" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">96 kbps target</text>
<line x1="176" y1="331" x2="192" y2="331" stroke="#58a6ff" stroke-width="2"/><polygon points="192,326 200,331 192,336" fill="#58a6ff"/>
<rect x="198" y="306" width="148" height="50" rx="8" fill="#2d1f6e" stroke="#2d1f6e" stroke-width="1.5"/>
<text x="272" y="326" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Download Audio</text>
<text x="272" y="341" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">yt-dlp</text>
<line x1="346" y1="331" x2="362" y2="331" stroke="#58a6ff" stroke-width="2"/><polygon points="362,326 370,331 362,336" fill="#58a6ff"/>
<rect x="368" y="306" width="148" height="50" rx="8" fill="#2d1f6e" stroke="#2d1f6e" stroke-width="1.5"/>
<text x="442" y="326" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Normalise</text>
<text x="442" y="341" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">mono 16 kHz MP3</text>
<line x1="516" y1="331" x2="532" y2="331" stroke="#58a6ff" stroke-width="2"/><polygon points="532,326 540,331 532,336" fill="#58a6ff"/>
<rect x="538" y="306" width="148" height="50" rx="8" fill="#2d1f6e" stroke="#2d1f6e" stroke-width="1.5"/>
<text x="612" y="326" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Chunk Audio</text>
<text x="612" y="341" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">>2 h: 1 h chunks</text>
<line x1="686" y1="331" x2="702" y2="331" stroke="#58a6ff" stroke-width="2"/><polygon points="702,326 710,331 702,336" fill="#58a6ff"/>
<rect x="708" y="306" width="148" height="50" rx="8" fill="#3a1f6e" stroke="#3a1f6e" stroke-width="1.5"/>
<text x="782" y="326" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Transcribe</text>
<text x="782" y="341" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">Deepgram Nova-3</text>
<text x="782" y="370" text-anchor="middle" fill="#8b949e" font-size="9">exp. backoff on 429</text>
<line x1="782" y1="372" x2="782" y2="408" stroke="#58a6ff" stroke-width="2"/><polygon points="777,408 782,416 787,408" fill="#58a6ff"/>
<rect x="708" y="408" width="148" height="50" rx="8" fill="#2d1f6e" stroke="#2d1f6e" stroke-width="1.5"/>
<text x="782" y="428" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Merge Chunks</text>
<text x="782" y="443" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">dedup overlap</text>
<line x1="782" y1="458" x2="782" y2="510" stroke="#58a6ff" stroke-width="2"/><polygon points="777,510 782,518 787,510" fill="#58a6ff"/>
<rect x="708" y="510" width="148" height="50" rx="8" fill="#1a3a2a" stroke="#1a3a2a" stroke-width="1.5"/>
<text x="782" y="530" text-anchor="middle" fill="#e6edf3" font-size="12" font-weight="600">Write TXT</text>
<text x="782" y="545" text-anchor="middle" fill="#e6edf3" font-size="10" opacity="0.8">output file</text>
<line x1="272" y1="232" x2="272" y2="535" stroke="#3fb950" stroke-width="1.5" stroke-dasharray="5,3"/>
<line x1="272" y1="535" x2="708" y2="535" stroke="#3fb950" stroke-width="1.5" stroke-dasharray="5,3"/>
<polygon points="707,530 716,535 707,540" fill="#3fb950"/>
<text x="276" y="529" text-anchor="start" fill="#3fb950" font-size="9">both paths → Write TXT</text>
<line x1="782" y1="560" x2="782" y2="582" stroke="#58a6ff" stroke-width="2"/><polygon points="777,582 782,590 787,582" fill="#58a6ff"/>
<rect x="708" y="590" width="148" height="50" rx="8" fill="#21262d" stroke="#21262d" stroke-width="1.5"/>
<text x="782" y="610" text-anchor="middle" fill="#8b949e" font-size="12" font-weight="600">Cleanup</text>
<text x="782" y="625" text-anchor="middle" fill="#8b949e" font-size="10" opacity="0.8">temp files</text>
<line x1="782" y1="640" x2="782" y2="660" stroke="#58a6ff" stroke-width="2"/><polygon points="777,660 782,668 787,660" fill="#58a6ff"/>
<rect x="708" y="668" width="148" height="50" rx="8" fill="#1a3a2a" stroke="#1a3a2a" stroke-width="1.5"/>
<text x="782" y="698" text-anchor="middle" fill="#3fb950" font-size="12" font-weight="600">COMPLETED ✓</text>
<rect x="18" y="752" width="964" height="50" rx="6" fill="#161b22" stroke="#30363d" stroke-width="1"/>
<text x="32" y="766" text-anchor="start" fill="#8b949e" font-size="10" font-weight="600">Legend</text>
<line x1="55" y1="782" x2="81" y2="782" stroke="#58a6ff" stroke-width="2"/><polygon points="81,778 88,782 81,786" fill="#58a6ff"/>
<text x="93" y="786" text-anchor="start" fill="#8b949e" font-size="10">Main flow</text>
<line x1="185" y1="782" x2="211" y2="782" stroke="#3fb950" stroke-width="2" stroke-dasharray="5,3"/><polygon points="211,778 218,782 211,786" fill="#3fb950"/>
<text x="223" y="786" text-anchor="start" fill="#8b949e" font-size="10">Captions path</text>
<text x="315" y="786" text-anchor="start" fill="#f85149" font-size="10">"Condition label"</text>
<rect x="435" y="775" width="14" height="14" rx="3" fill="#3a1f6e"/>
<text x="453" y="786" text-anchor="start" fill="#8b949e" font-size="10">Deepgram API</text>
<rect x="555" y="775" width="14" height="14" rx="3" fill="#2d1f6e"/>
<text x="573" y="786" text-anchor="start" fill="#8b949e" font-size="10">Audio pipeline</text>
<rect x="675" y="775" width="14" height="14" rx="3" fill="#1a3a2a"/>
<text x="693" y="786" text-anchor="start" fill="#8b949e" font-size="10">Captions / Output</text>
<rect x="795" y="775" width="14" height="14" rx="3" fill="#21262d"/>
<text x="813" y="786" text-anchor="start" fill="#8b949e" font-size="10">Terminal state</text>
<text x="32" y="799" text-anchor="start" fill="#6e7681" font-size="9">Thread-safe SQLite · Atomic duplicate check · Exponential backoff (429) · Empty-VTT fallback to Deepgram · Config validation</text>
</svg>